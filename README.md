# 生圖工坊 — 功能分析報告

> **來源網址**：<https://learn.duotify.com/user/webapps/image-creator/>
> **分析日期**：2026-02-10
> **版本**：v0.1.5
> **最後更新**：2026-02-11

## 目錄

- [1. 概述](#1-概述)
- [2. 開發進度](#2-開發進度)
- [3. 頁頭與導覽區](#3-頁頭與導覽區)
- [4. 提示詞與風格設定（Section 1）](#4-提示詞與風格設定section-1)
- [5. 輸出設定（Section 2）](#5-輸出設定section-2)
- [6. 開始生圖與結果展示（Section 3）](#6-開始生圖與結果展示section-3)
- [7. 系統設定彈窗（Settings Modal）](#7-系統設定彈窗settings-modal)
- [8. 頁尾資訊](#8-頁尾資訊)
- [9. 功能總覽表](#9-功能總覽表)

---

## 1. 概述

**生圖工坊**（Image Creator Workshop）是一個基於 Web 的 AI 影像生成工作台，定位為「專業、穩定、可控」的創作平台。使用者可以透過自然語言描述（Prompt）搭配風格標籤，利用 OpenAI / Azure OpenAI / Gemini 等多種 AI 模型 API 來生成高品質影像。

### 核心特色

| 特色                | 說明                                                                |
| ------------------- | ------------------------------------------------------------------- |
| 🎨 **多模型支援**   | 同時支援 GPT-Image-1.5、OpenAI、Azure OpenAI、Gemini API 等多種端點 |
| ✍️ **提示詞輔助**   | 提供 12 組預設範本 + 靈感推薦功能，降低使用門檻                     |
| 🖼️ **彈性輸出設定** | 支援多種比例、解析度、格式與壓縮品質控制                            |
| 🔧 **風格標籤系統** | 構圖、主題、材質、鏡頭四大類，一鍵套用風格                          |
| 📷 **參考圖片上傳** | 支援拖拽上傳參考圖（視 API 支援程度）                               |
| 🔒 **安全性過濾**   | 提供內容安全性等級調整                                              |

---

## 2. 開發進度

> 最後更新時間：2026-02-11 01:25

### 2.1 整體進度

| 階段    | 內容                      | 狀態         | 說明                                                              |
| ------- | ------------------------- | ------------ | ----------------------------------------------------------------- |
| Phase 1 | 專案初始化                | ✅ 完成      | Vite + React + TypeScript + Tailwind v4 + shadcn/ui               |
| Phase 2 | 頁頭與導覽區              | ✅ 完成      | HeroSection：標題、狀態列、快速操作、三步驟引導                   |
| Phase 3 | 提示詞與風格設定          | ✅ 完成      | PromptSection：輸入框、12 個範本、參考圖上傳、8 類風格標籤        |
| Phase 4 | 輸出設定                  | ✅ 完成      | OutputSection：比例、解析度、格式、壓縮品質、安全性過濾           |
| Phase 5 | 生成與結果展示            | ✅ 完成 (UI) | GenerateSection：CTA 按鈕、狀態計時器、結果展示（目前為模擬生成） |
| Phase 6 | 系統設定彈窗              | ✅ 完成      | SettingsModal：5 種 API 連線方式切換與配置                        |
| Phase 7 | 整體打磨                  | ✅ 完成      | 暗色/亮色模式切換、微動畫、自訂捲軸樣式                           |
| Phase 8 | API 串接                  | ✅ 完成      | 完整支援 OpenAI, Azure OpenAI, Gemini API                         |
| Phase 9 | ChatGPT/Gemini 瀏覽器整合 | ✅ 完成      | 透過瀏覽器擴充功能整合 ChatGPT / Gemini                           |

### 2.2 技術棧

| 分類      | 技術                 | 版本             |
| --------- | -------------------- | ---------------- |
| 建置工具  | Vite                 | 7.x              |
| 前端框架  | React + TypeScript   | 19.x             |
| CSS 框架  | Tailwind CSS         | v4               |
| UI 元件庫 | shadcn/ui            | latest           |
| 圖示      | Lucide React         | latest           |
| 字型      | Inter + Noto Sans TC | Google Fonts CDN |

### 2.3 專案結構

```
src/
├── App.tsx                      # 主應用程式（整合所有區塊）
├── main.tsx                     # 進入點
├── index.css                    # Tailwind v4 + shadcn/ui CSS 架構
├── components/
│   ├── ui/                      # shadcn/ui 元件（17 個）
│   ├── theme-provider.tsx       # 暗色模式 Provider
│   ├── mode-toggle.tsx          # 主題切換按鈕
│   ├── hero-section.tsx         # 頁頭區
│   ├── prompt-section.tsx       # 提示詞與風格設定
│   ├── output-section.tsx       # 輸出設定
│   ├── generate-section.tsx     # 生成控制與結果展示
│   ├── settings-modal.tsx       # 系統設定彈窗
│   └── footer.tsx               # 頁尾
└── lib/
    ├── utils.ts                 # cn() 工具函式
    ├── constants.ts             # 常數資料（範本、標籤、選項）
    ├── store.ts                 # 全域狀態管理 hooks (含 LocalStorage)
    └── services/                # [NEW] 影像生成服務層
        ├── types.ts             # 介面定義
        ├── openai.ts            # OpenAI DALL-E 3
        ├── azure.ts             # Azure OpenAI
        ├── gemini.ts            # Google Gemini (Imagen 3)
        ├── browser-extension.ts # 瀏覽器整合
        └── image-generator.ts   # 工廠模式入口
```

### 2.4 已安裝的 shadcn/ui 元件

`button` · `card` · `dialog` · `select` · `label` · `textarea` · `badge` · `tabs` · `slider` · `separator` · `tooltip` · `dropdown-menu` · `scroll-area` · `input` · `toggle` · `toggle-group` · `switch`

### 2.5 待辦事項（Next Steps）

- [x] 串接 Gemini API 真實影像生成
- [x] 串接 OpenAI Images API (DALL-E 3)
- [x] 串接 Azure OpenAI
- [x] 實作 ChatGPT 瀏覽器擴充功能整合
- [x] 實作 Gemini 瀏覽器整合
- [x] 設定值持久化（localStorage）
- [ ] 錯誤處理與重試機制
- [ ] 生成歷史紀錄
- [ ] 響應式設計精調（行動裝置）

### 2.6 關鍵功能實作細節

#### 2.6.1 API 串接策略 (Services)

- 採用 **工廠模式 (Factory Pattern)** 管理不同 API 服務 (`ImageGenerator` -> Service)。
- **OpenAI / Azure / Gemini**：皆支援原生的 Image Generation API。
- **Browser Extension**：針對 ChatGPT 與 Gemini 網頁版，採用 **URL Hash 協議** (`autoSubmit=true&prompt=...`) 與瀏覽器擴充功能（如 ChatGPT 萬能工具箱）進行整合。

#### 2.6.2 設定值持久化

- 使用 `localStorage` 儲存使用者的 API Key 與偏好設定（如比例、解析度）。
- 實作了 **版本控制** 與 **預設值合併** 機制，確保未來升級時的資料相容性。
- 安全性提示：API Key 僅儲存於使用者瀏覽器端，不會傳送至任何中介伺服器。

---

## 3. 頁頭與導覽區

### 2.1 主標題區

- **主標題**：「生圖工坊」
- **副標題**：「專業、穩定、可控的影像生成工作台，讓創作更有效率。」

### 2.2 狀態列

- 顯示目前連線的模型與 API 模式，例如：`GPT-Image-1.5 · OpenAI / Azure OpenAI · Nano Banana Pro`
- 隨使用者在系統設定中切換連線方式而動態更新

### 2.3 快速操作按鈕

| 按鈕        | ID / 選擇器       | 功能描述                   |
| ----------- | ----------------- | -------------------------- |
| ⚙️ 系統設定 | `#openSettings`   | 開啟連線配置彈窗           |
| 🎯 開始創作 | `#scrollToPrompt` | 平滑捲動至提示詞輸入區     |
| 💡 靈感推薦 | `#randomTemplate` | 隨機填入一段預設優質提示詞 |

### 2.4 操作流程指南

以卡片形式呈現 **三步驟引導**：

1. **系統設定** — 設定 API 連線與模型
2. **選擇提示詞** — 輸入描述或選擇範本
3. **開始生圖** — 點擊按鈕開始生成影像

---

## 4. 提示詞與風格設定（Section 1）

### 3.1 提示詞輸入區

| 元素       | ID / 選擇器    | 類型         | 說明                                                                             |
| ---------- | -------------- | ------------ | -------------------------------------------------------------------------------- |
| 描述輸入框 | `#promptInput` | `<textarea>` | 多行文字輸入，佔位文字：「描述你想要的畫面，例如：一隻穿著雨衣的柯基在雨中跳舞」 |
| 清空按鈕   | —              | `<button>`   | 清除輸入框內所有文字                                                             |
| 範例填入   | —              | `<button>`   | 填入預設示範用提示詞                                                             |

### 3.2 常用提示詞範本

提供 **12 個快捷標籤**，點擊即可自動填入完整的情境描述提示詞：

| #   | 範本名稱     | 描述主題                       |
| --- | ------------ | ------------------------------ |
| 1   | 晨光咖啡館   | 咖啡廳晨間氛圍場景             |
| 2   | 雲端浮島     | 天空中的漂浮島嶼奇幻場景       |
| 3   | 童話氣球遊行 | 充滿童趣的氣球遊行場景         |
| 4   | 水彩山嵐湖   | 山水風景水彩畫風               |
| 5   | 像素霓虹街機 | 復古像素風格霓虹街機遊戲場景   |
| 6   | 3D 爆炸結構  | 震撼的 3D 解構視覺藝術         |
| 7   | 電影感追逐   | 電影風格的動態追逐場面         |
| 8   | 復古旅行海報 | 懷舊風格的平面設計海報         |
| 9   | 玻璃未來展廳 | 充滿科技感與通透感的未來建築   |
| 10  | 陶瓷茶具特寫 | 展現精緻材質紋理的靜物特寫     |
| 11  | 布料質感時裝 | 強調布料織紋與垂墜感的時尚攝影 |
| 12  | 紙雕城市模型 | 模擬紙藝堆疊效果的微縮城市     |

### 3.3 參考圖片上傳

- **上傳方式**：拖拽（Drag-and-Drop）上傳區域
- **限制說明**：部分 API 連線模式可能不支援參考圖片功能，介面會顯示相應提示
- **用途**：提供參考影像讓 AI 進行風格轉換或圖像編輯

### 3.4 風格標籤系統

提供四大分類的風格標籤，使用者可自由組合，標籤以切換式按鈕呈現：

#### 🎬 構圖（Composition）

| 標籤     | 效果           |
| -------- | -------------- |
| 廣角     | 廣角鏡頭構圖   |
| 特寫     | 近距離特寫     |
| 極簡     | 極簡主義構圖   |
| 平面     | 平面設計風格   |
| 史詩     | 史詩級宏觀場景 |
| 概念藝術 | 概念藝術風格   |

#### 🎭 主題（Theme）

| 標籤     | 效果           |
| -------- | -------------- |
| 賽博朋克 | Cyberpunk 風格 |
| 奇幻     | Fantasy 風格   |
| 自然     | 自然生態主題   |
| 未來感   | 科技未來風     |
| 復古     | 復古懷舊風     |

#### 🧱 材質（Material）

| 標籤   | 效果         |
| ------ | ------------ |
| 玻璃感 | 玻璃質感渲染 |
| 金屬感 | 金屬材質渲染 |
| 紙質感 | 紙張質感效果 |
| 布料感 | 布料織物質感 |
| 陶瓷感 | 陶瓷光滑質感 |

#### 📸 鏡頭（Lens）

| 標籤 | 效果                   |
| ---- | ---------------------- |
| 微距 | 微距攝影效果           |
| 移軸 | 移軸（Tilt-Shift）效果 |
| 散景 | 背景散景（Bokeh）效果  |
| 長焦 | 望遠鏡頭壓縮感         |
| 魚眼 | 魚眼鏡頭變形效果       |

#### 🎨 畫風（Art Style）

| 標籤   | 效果             |
| ------ | ---------------- |
| 寫實   | 真實攝影風格     |
| 插畫   | 手繪插畫風格     |
| 繪本   | 童書繪本風格     |
| 水彩   | 水彩渲染效果     |
| 像素風 | Pixel Art 復古風 |
| 3D     | 3D 渲染效果      |
| 電影感 | 電影鏡頭質感     |

#### 😊 情緒（Mood）

| 標籤 | 效果         |
| ---- | ------------ |
| 溫暖 | 溫馨暖色調   |
| 夢幻 | 夢幻柔焦氛圍 |
| 活力 | 鮮明活力感   |
| 安靜 | 寧靜沉穩氛圍 |
| 可愛 | 活潑可愛風格 |

#### 💡 光線（Lighting）

| 標籤     | 效果           |
| -------- | -------------- |
| 柔和光   | 柔和漫射光     |
| 棚拍     | 專業攝影棚打光 |
| 黃金時刻 | 日落/日出暖光  |
| 霓虹     | 賽博龐克霓虹光 |
| 高對比   | 強烈明暗對比   |

#### 🎨 色彩（Color）

| 標籤   | 效果              |
| ------ | ----------------- |
| 粉彩   | 柔和粉彩色系      |
| 繽紛   | 高飽和度多彩      |
| 低彩度 | 低飽和度/莫蘭迪色 |
| 單色   | 單一色系/黑白     |
| 乾淨   | 乾淨明亮色調      |

#### 風格控制

- **清空風格按鈕** (`#clearStyles`)：一鍵清除所有已選取的風格標籤

---

## 5. 輸出設定（Section 2）

### 4.1 畫面比例

| ID                   | 類型                | 可選值                                                                   |
| -------------------- | ------------------- | ------------------------------------------------------------------------ |
| `#geminiAspectRatio` | `<select>` 下拉選單 | `1024 x 1024 (方形)`、`1024 x 1536 (直式)`、`1536 x 1024 (橫式)`、`auto` |

### 4.2 解析度 (Quality)

| ID                  | 類型                | 可選值                                                         |
| ------------------- | ------------------- | -------------------------------------------------------------- |
| `#geminiResolution` | `<select>` 下拉選單 | `low` (更快、更省)、`medium` (平衡)、`high` (最佳畫質)、`auto` |

### 4.3 檔案格式

| 類型       | 可選值                |
| ---------- | --------------------- |
| 選擇控制項 | `PNG`、`JPEG`、`WEBP` |

### 4.4 壓縮品質

| 條件     | 說明                   |
| -------- | ---------------------- |
| 適用格式 | 僅 JPEG、WEBP 格式可用 |
| 範圍     | 1 – 100                |
| 控制方式 | 數值輸入框 / 滑桿      |

### 4.5 安全性過濾（Safety Filter）

| 等級            | 說明                                        |
| --------------- | ------------------------------------------- |
| `low`（較寬鬆） | 降低內容安全性過濾嚴格度（視 API 支援程度） |

### 4.6 重置設定

| 按鈕     | ID              | 功能                         |
| -------- | --------------- | ---------------------------- |
| 重置設定 | `#resetOptions` | 一鍵重置所有輸出設定為預設值 |

---

## 6. 開始生圖與結果展示（Section 3）

### 5.1 生成控制

| 元素        | ID                | 說明                                         |
| ----------- | ----------------- | -------------------------------------------- |
| 🚀 生成按鈕 | `#generateButton` | 深藍色主要 CTA 按鈕，觸發 AI 影像生成        |
| 狀態指示    | —                 | 即時顯示目前狀態（等待輸入 / 生成中 / 完成） |
| 計時器      | —                 | 顯示生成耗時，格式為 `00:00`                 |

### 5.2 結果展示區

生成完成後，影像會顯示於結果區域，提供以下互動功能：

| 功能          | 說明                         |
| ------------- | ---------------------------- |
| 📌 即時預覽   | 生成完成後立即顯示影像縮圖   |
| 🔍 原圖檢視   | 單擊影像可檢視完整解析度原圖 |
| 💾 下載功能   | 將生成的影像下載至本機       |
| 🖥️ 全螢幕檢視 | 以全螢幕模式瀏覽影像         |

---

## 7. 系統設定彈窗（Settings Modal）

### 6.1 連線方式切換

透過**分段按鈕（Segmented Control）**切換不同的 API 連線端點：

| 連線方式         | 說明                                      |
| ---------------- | ----------------------------------------- |
| **OpenAI**       | 直接連線 OpenAI API                       |
| **Azure OpenAI** | 透過 Azure 部署的 OpenAI 服務             |
| **Gemini API**   | Google Gemini API                         |
| **ChatGPT**      | 透過 ChatGPT 介面（需搭配瀏覽器擴充功能） |
| **Gemini**       | Google Gemini 介面連線                    |

### 6.2 各連線方式配置欄位

#### OpenAI

| 欄位     | 預設值 / Placeholder        | 說明            |
| -------- | --------------------------- | --------------- |
| Base URL | `https://api.openai.com/v1` | API 基礎路徑    |
| Model    | `gpt-image-1.5`             | 模型版本代號    |
| API Key  | `請輸入你的 OpenAI API Key` | OpenAI API 金鑰 |

#### Azure OpenAI

| 欄位            | 預設值 / Placeholder          | 說明                      |
| --------------- | ----------------------------- | ------------------------- |
| Endpoint URL    | `https://{resource}...`       | Azure 部署的 API 端點 URL |
| 驗證方式        | API Key / AAD Token           | 切換驗證模式              |
| API Key / Token | `請輸入你的 API Key 或 Token` | 對應的驗證憑證            |

#### Gemini API

| 欄位           | 預設值 / Placeholder            | 說明                  |
| -------------- | ------------------------------- | --------------------- |
| Endpoint URL   | `https://generativelanguage...` | API 端點              |
| Model          | `gemini-3-pro-image-preview`    | 模型版本              |
| Gemini API Key | `請輸入你的 Gemini API Key`     | Google AI Studio 金鑰 |

#### ChatGPT / Gemini（瀏覽器整合模式）

| 連線        | 欄位     | 預設值                                      |
| ----------- | -------- | ------------------------------------------- |
| **Gemini**  | Base URL | `https://gemini.google.com/app`             |
| **ChatGPT** | —        | 需安裝「ChatGPT 萬能工具箱」Chrome 擴充功能 |

### 6.3 整合提示

- 提供「**ChatGPT 萬能工具箱**」擴充功能的說明與安裝連結
- 說明如何透過此擴充功能實現無 API Key 的使用方式

---

## 8. 頁尾資訊

| 項目         | 內容                    |
| ------------ | ----------------------- |
| **版權聲明** | © 2026 生圖工坊         |
| **開發者**   | 由Claude/Gemini設計開發 |
| **版本**     | v0.0.1                  |

---

## 9. 功能總覽表

| 功能分類     | 功能項目          | 互動元素      | 關鍵 ID              |
| ------------ | ----------------- | ------------- | -------------------- |
| **導覽**     | 系統設定          | 按鈕          | `#openSettings`      |
| **導覽**     | 開始創作          | 錨點捲動按鈕  | `#scrollToPrompt`    |
| **導覽**     | 靈感推薦          | 按鈕          | `#randomTemplate`    |
| **提示詞**   | 描述輸入          | 多行文字區    | `#promptInput`       |
| **提示詞**   | 清空輸入          | 按鈕          | —                    |
| **提示詞**   | 範例填入          | 按鈕          | —                    |
| **提示詞**   | 常用範本（12 個） | 快捷標籤      | —                    |
| **參考圖片** | 拖拽上傳          | 拖拽區域      | —                    |
| **風格**     | 構圖標籤（6 個）  | 切換按鈕      | —                    |
| **風格**     | 主題標籤（5 個）  | 切換按鈕      | —                    |
| **風格**     | 材質標籤（5 個）  | 切換按鈕      | —                    |
| **風格**     | 鏡頭標籤（5 個）  | 切換按鈕      | —                    |
| **風格**     | 清空風格          | 按鈕          | `#clearStyles`       |
| **輸出設定** | 畫面比例          | 下拉選單      | `#geminiAspectRatio` |
| **輸出設定** | 解析度            | 下拉選單      | `#geminiResolution`  |
| **輸出設定** | 檔案格式          | 選擇控制項    | —                    |
| **輸出設定** | 壓縮品質          | 數值輸入/滑桿 | —                    |
| **輸出設定** | 安全性過濾        | 下拉選單      | —                    |
| **輸出設定** | 重置設定          | 按鈕          | `#resetOptions`      |
| **生圖**     | 開始生成          | 主按鈕        | `#generateButton`    |
| **生圖**     | 狀態監控          | 文字/計時器   | —                    |
| **結果**     | 影像預覽          | 影像展示      | —                    |
| **結果**     | 原圖檢視          | 點擊互動      | —                    |
| **結果**     | 下載影像          | 按鈕          | —                    |
| **結果**     | 全螢幕檢視        | 按鈕          | —                    |
| **設定**     | API 連線切換      | 分段按鈕      | —                    |
| **設定**     | API Key 輸入      | 文字輸入框    | —                    |
| **設定**     | Endpoint 輸入     | 文字輸入框    | —                    |
| **設定**     | 模型選擇          | 下拉選單      | —                    |

---

## 附錄：技術架構

### 原始參考頁面推測

- **前端**：純 HTML / CSS / JavaScript（無明顯前端框架痕跡）
- **API 整合**：前端直接呼叫 OpenAI / Azure OpenAI / Gemini API（Client-Side API Call）
- **瀏覽器擴充整合**：透過「ChatGPT 萬能工具箱」實現與 ChatGPT / Gemini 網頁介面的通訊
- **無後端需求**：所有 API 呼叫均在客戶端完成，使用者需自行提供 API Key
- **響應式設計**：介面具備行動裝置適配能力

### 本專案實際技術棧

- **前端框架**：React 19 + TypeScript（Vite 7 建置）
- **CSS 框架**：Tailwind CSS v4（使用 `@tailwindcss/vite` 插件）
- **UI 元件庫**：shadcn/ui（四步驟 CSS 架構 + 自動暗色模式）
- **圖示系統**：Lucide React
- **狀態管理**：React Hooks（useState / useCallback）
- **主題系統**：CSS Variables + ThemeProvider（dark / light / system）
- **API 整合**：Client-Side API Call（待實作）
- **部署方式**：靜態網站（`npm run build` 產出）
